╔════════════════════════════════════════════════════════════════════════════╗
║                                                                            ║
║              🚀 FlowerNet 双独立端点 - 立即开始指南 🚀                      ║
║                                                                            ║
║              为 Controller 和 Verifier 创建两个独立的公网 URL               ║
║                                                                            ║
╚════════════════════════════════════════════════════════════════════════════╝

📖 第一步：选择你的学习路径
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  🔰 完全新手?
     👉 打开: README_DUAL_ENDPOINTS.md
     ⏱️  需时: 10 分钟
     📋 包含: 完整指南 + 3 步快速开始

  ⚡ 想快速启动?
     👉 打开: QUICK_START_DUAL_ENDPOINTS.md
     ⏱️  需时: 3 分钟
     📋 包含: 最简化的启动步骤

  🏗️ 想了解架构?
     👉 打开: ARCHITECTURE_DUAL_ENDPOINTS.md
     ⏱️  需时: 20 分钟
     📋 包含: 详细的系统设计和工作流

  🔧 想看完整指南?
     👉 打开: DUAL_ENDPOINTS_GUIDE.md
     ⏱️  需时: 30 分钟
     📋 包含: 所有细节 + 故障排查


🚀 快速开始（3 步）
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

第 1️⃣  步：安装 Ngrok（如需要）
────────────────────────────────────
  $ chmod +x install-ngrok.sh
  $ ./install-ngrok.sh

第 2️⃣  步：启动 Controller 隧道（终端 1）
────────────────────────────────────
  $ chmod +x ngrok-controller.sh
  $ ./ngrok-controller.sh

你会看到:
  Session Status                online
  Forwarding                     https://abc-xxx.ngrok-free.dev -> http://localhost:8001
                                 ↑
                          👉 记录这个 URL

第 3️⃣  步：启动 Verifier 隧道（终端 2）
────────────────────────────────────
  $ chmod +x ngrok-verifier.sh
  $ ./ngrok-verifier.sh

你会看到:
  Session Status                online
  Forwarding                     https://xyz-yyy.ngrok-free.dev -> http://localhost:8000
                                 ↑
                          👉 记录这个 URL

完成！🎉 你现在有两个公网端点了！
─────────────────────────────────
  🔵 Controller: https://abc-xxx.ngrok-free.dev
  🔴 Verifier:   https://xyz-yyy.ngrok-free.dev


📂 重要文件
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

�� 文档
  • README_DUAL_ENDPOINTS.md ..................... 总体指南 + 快速开始
  • QUICK_START_DUAL_ENDPOINTS.md ............... 3 分钟快速启动
  • ARCHITECTURE_DUAL_ENDPOINTS.md ............. 详细架构说明
  • DUAL_ENDPOINTS_GUIDE.md ..................... 完整指南 + 故障排查
  • FILES_MANIFEST.md ........................... 文件清单
  • IMPLEMENTATION_COMPLETE.md .................. 实现完成总结

🚀 脚本
  • install-ngrok.sh ............................ 自动安装 Ngrok
  • ngrok-controller.sh ......................... 启动 Controller 隧道
  • ngrok-verifier.sh ........................... 启动 Verifier 隧道
  • check-system.sh ............................. 系统完整性检查
  • start-dual-endpoints.sh ..................... 一键启动所有 (tmux)
  • setup-dual-endpoints.sh ..................... 初始化配置


✨ 核心特性
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  ✅ 两个完全独立的公网 URL
  ✅ Controller 和 Verifier 各自拥有独立隧道
  ✅ 避免 Docker 网络限制（主机上运行 Ngrok）
  ✅ 生产就绪的脚本和配置
  ✅ 完整的系统检查工具
  ✅ 详尽的文档和示例


�� 测试端点
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

本地测试：
  $ curl http://localhost:8000/    # Verifier
  $ curl http://localhost:8001/    # Controller

公网测试（启动 Ngrok 后）：
  $ curl https://abc-xxx.ngrok-free.dev/       # Controller
  $ curl https://xyz-yyy.ngrok-free.dev/       # Verifier

监控界面：
  🌐 http://localhost:4040  （Ngrok Web UI，实时查看所有请求）


🆘 遇到问题?
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. 运行系统检查：
   $ ./check-system.sh
   
   这会检查：
   ✓ Docker 状态
   ✓ 容器运行状态
   ✓ 端口可用性
   ✓ 文件完整性

2. 查看日志：
   $ docker-compose logs -f verifier-app
   $ docker-compose logs -f controller-app

3. 查询故障排查指南：
   👉 DUAL_ENDPOINTS_GUIDE.md 中有详细的故障排查部分

4. 检查文档：
   • Ngrok 问题: QUICK_START_DUAL_ENDPOINTS.md
   • 架构问题: ARCHITECTURE_DUAL_ENDPOINTS.md
   • 一般问题: DUAL_ENDPOINTS_GUIDE.md


💡 建议
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. 首次使用：按照本文件的 "快速开始" 部分
2. 新手推荐：在启动前先读 README_DUAL_ENDPOINTS.md
3. 性能优化：使用 --region=ap/eu/us 选择最近的区域
4. 生产部署：升级到 Ngrok Pro 以获得静态 URL
5. 监控告警：定期检查 http://localhost:4040


�� 快速命令参考
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# 安装
chmod +x *.sh

# 检查系统
./check-system.sh

# 启动 Docker（如果未运行）
docker-compose up -d

# 查看 Docker 状态
docker-compose ps

# 启动隧道（在两个不同的终端）
./ngrok-controller.sh      # 终端 1
./ngrok-verifier.sh        # 终端 2

# 停止 Docker
docker-compose down

# 查看日志
docker-compose logs -f


📞 获取帮助
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

遇到问题，按优先级查看：
1. 🔍 本文件 (START_HERE.txt) ......... 快速参考
2. �� README_DUAL_ENDPOINTS.md ....... 总体指南
3. ⚡ QUICK_START_DUAL_ENDPOINTS.md .. 快速启动
4. 🏗️  ARCHITECTURE_DUAL_ENDPOINTS.md  架构说明
5. 🔧 DUAL_ENDPOINTS_GUIDE.md ........ 完整指南 + 故障排查

或直接运行：
  $ ./check-system.sh


✅ 系统现状
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  ✅ Docker Desktop: 已安装并运行
  ✅ Docker Compose: 已安装
  ✅ Verifier 容器: 运行中（健康）
  ✅ Controller 容器: 运行中
  ✅ 端口 8000: 开放
  ✅ 端口 8001: 开放
  ✅ 所有脚本: 已准备
  ✅ 所有文档: 已准备

  ⏳ Ngrok: 需要安装（一行命令）


🚀 现在就开始！
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

第 1 步: 安装 Ngrok
  $ ./install-ngrok.sh

第 2 步: 启动 Controller 隧道（终端 1）
  $ ./ngrok-controller.sh

第 3 步: 启动 Verifier 隧道（终端 2）
  $ ./ngrok-verifier.sh

完成！📊 访问 http://localhost:4040 查看实时统计


════════════════════════════════════════════════════════════════════════════

🎉 祝贺！你已准备好为 FlowerNet 创建公网端点！

有任何问题，请参考相应的文档或运行 ./check-system.sh

📖 更多信息: 查看 README_DUAL_ENDPOINTS.md

════════════════════════════════════════════════════════════════════════════
