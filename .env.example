# FlowerNet 环境变量配置模板
# 复制此文件为 .env 并填入你的实际值
# Important: 不要将 .env 文件提交到 Git！

# ====================================
# Ngrok 配置（用于外网访问）
# ====================================
# 从 https://dashboard.ngrok.com/auth 获取你的 Token
NGROK_AUTHTOKEN=38bwDJs8sMknK17RpFvQYzbje6A_4n2bZFtn2gao8U4qCf7gR

# Ngrok 公网 URL (启动后从 http://localhost:4040 获取并填入)
NGROK_BASE_URL=https://your-ngrok-url.ngrok-free.dev

# Controller 和 Verifier 各自的公网 URL（用于代码中引用）
CONTROLLER_PUBLIC_URL=${NGROK_BASE_URL}/controller
VERIFIER_PUBLIC_URL=${NGROK_BASE_URL}/verifier

# Verifier 服务的内网 URL（Controller 用于调用 Verifier）
# 如果在本地测试，使用 localhost；如果通过代理，使用公网 URL
VERIFIER_URL=http://localhost:8000

# 代理服务器端口（接收 Ngrok 流量）
PROXY_PORT=9000

# ====================================
# 服务端口配置
# ====================================
VERIFIER_PORT=8000
CONTROLLER_PORT=8001
PROXY_PORT=9000
NGROK_DASHBOARD_PORT=4040

# ====================================
# 应用日志配置
# ====================================
# 日志级别: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# 是否启用调试模式
DEBUG=false

# ====================================
# LLM 服务配置（用于集成真实 LLM）
# ====================================
# 示例 1: OpenAI
# OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# OPENAI_MODEL=gpt-4
# OPENAI_TIMEOUT=60

# 示例 2: DeepSeek
# DEEPSEEK_API_KEY=sk_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# DEEPSEEK_MODEL=deepseek-chat
# DEEPSEEK_BASE_URL=https://api.deepseek.com

# 示例 3: 本地模型 (Ollama)
# LOCAL_LLM_URL=http://localhost:11434
# LOCAL_LLM_MODEL=mistral

# ====================================
# 性能调优
# ====================================
# 最大重试次数
MAX_RETRIES=3

# 相关性阈值 (0-1)
RELEVANCY_THRESHOLD=0.4

# 冗余度阈值 (0-1)
REDUNDANCY_THRESHOLD=0.6

# 控制器并发数
CONTROLLER_WORKERS=4

# ====================================
# 存储配置
# ====================================
# 模型缓存目录
CACHE_DIR=/root/.cache

# 日志文件路径
LOG_FILE=/app/logs/flowernet.log

# ====================================
# 监控和告警
# ====================================
# Prometheus 指标导出端口
METRICS_PORT=9090

# 启用性能监控
ENABLE_MONITORING=true

# ====================================
# 安全配置
# ====================================
# API 密钥（用于保护你的 API）
# API_KEY=your-secret-key-here

# CORS 允许的来源
ALLOWED_ORIGINS=https://yourdomain.com,http://localhost:3000

# ====================================
# 时区配置
# ====================================
TZ=UTC
